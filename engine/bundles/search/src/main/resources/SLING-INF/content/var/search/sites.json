{
  "sakai:query-language": "xpath",
  "sakai:query-template": "//*[@sling:resourceType=\"sakai/site\" and jcr:contains(.,\"{q}\")] order by @{sortOn|jcr:score} {sortOrder|descending}",
  "sakai:query-template-q=%2A": "//*[@sling:resourceType=\"sakai/site\"] order by @{sortOn|jcr:score} {sortOrder|descending}",
  "sling:resourceType": "sakai/search",
  "sakai:resultprocessor": "Site",
  "sakai:title": "Sites",
  "sakai:shortDescription": "Get site nodes out of the repository.",
  "sakai:parameters" : [
      "{\"name\" : \"q\", \"description\" : \"Filters the search. Will match any property on the sakai/site node.\"}",
      "{\"name\" : \"sortOn\", \"description\" : \"The name of the property you wish to sort on. This only has any affect if it is used with the sortOrder parameter. The default is jcr:score\"}",
      "{\"name\" : \"sortOrder\", \"description\" : \"The order you wish to sort in. Either 'ascending' or 'descending'.\"}"
      ],
  "sakai:description": "Searches the entire repository for site nodes containing the searchterm",
  "sakai:response": [
                     "Doing a standard query searching for all sites who match the term 'my-course'.<br /> Example: Request to: /var/search/sites.json?q=my-course<br />Example: {\n   \"query\": \"//*[@sling:resourceType=\"sakai/site\" and jcr:contains(.,\"my-course\")]\",\n   \"items\": 25,\n   \"total\": 1,\n   \"results\": [\n       {\n           \"member-count\": \"1\",\n           \"path\": \"/sites/my-course-site\",\n           \"sakai:savedBy\": \"simong\",\n           \"jcr:isCheckedOut\": \"true\",\n           \"jcr:versionHistory\": \"be47f4d5-eb1d-4440-b99b-6b5cc1884326\",\n           \"id\": \"my-course-site\",\n           \"sakai:site-template\": \"/templates/template\",\n           \"sling:resourceType\": \"sakai/site\",\n           \"jcr:mixinTypes\": [\n               \"rep:AccessControllable\",\n               \"mix:versionable\"\n           ],\n           \"name\": \"my course site\",\n           \"jcr:predecessors\": [\n               \"3a71f921-a363-4c99-b7a1-124597359186\"\n           ],\n           \"sakai:authorizables\": [\n               \"g-my-course-site-collaborators\",\n               \"g-my-course-site-viewers\"\n           ],\n           \"jcr:baseVersion\": \"3a71f921-a363-4c99-b7a1-124597359186\",\n           \"status\": \"online\",\n           \"jcr:primaryType\": \"nt:unstructured\",\n           \"sakai:skin\": \"/dev/_skins/original/original.html\",\n           \"jcr:uuid\": \"23b60f25-7980-4f6e-86bb-01f254e2e60b\"\n       }\n   ]}"
                    ]
}
